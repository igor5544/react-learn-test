{"version":3,"sources":["api/api.js","redux/navbar-reducer.js","redux/app-reducer.js","redux/redux-store.js","hoc/withSuspense.js","components/FriendItem.js","components/UsersBar.js","components/UsersBarContainer.js","components/Navbar.js","components/Main.js","components/Header.js","components/HeaderContainer.js","App.js","serviceWorker.js","index.js","redux/global-state.js","redux/auth-reducer.js","styles/header.module.css","assets/images/preloader.gif","components/Preloader.js","styles/main.module.css","styles/usersBar.module.css","styles/friendItem.module.css","components/MainBtn.js","redux/profile-reducer.js","styles/navbar.module.css","redux/dialogs-reducer.js","utils/object-helpers.js","redux/users-reducer.js","styles/users.module.css","styles/mainBtn.module.css"],"names":["instance","axios","create","baseURL","withCredentials","headers","usersAPI","auth","get","then","response","data","getUsers","currentPage","pageSize","follow","id","post","unfollow","delete","profileAPI","getProfile","userID","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","initialState","topFriends","navbarReducer","state","INITIALIZED_SUCCESS","initialized","appReducer","action","type","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","usersPage","usersReducer","navbar","authReducer","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Component","props","fallback","Preloader","FriendItem","img","className","s","item","src","alt","UsersBar","title","list","map","Friend","key","UsersBarContainer","connect","Navbar","link","to","activeClassName","DialogsContainer","React","lazy","ProfileContainer","LoginContainer","UsersContainer","Settings","Music","News","Main","main","content","path","render","Header","isAuth","header","width","MainBtn","onClick","HeaderAPIComponent","this","mapDispatchToProps","HeaderContainer","App","initializeApp","dispatch","getAuthUserData","AppContainer","MainApp","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message","messages","users","name","friend","mainUser","friends","filter","user","length","slice","SET_USER_DATA","setUserData","payload","a","resultCode","stopSubmit","_error","module","exports","loader","preloader","height","children","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETEE_POST","posts","likes","dislikes","addPost","setStatus","getUserProfile","profile","getUserStatus","Date","p","postId","SEND_MESSAGE","sendNewMessage","newMessageText","updateObjectInArray","items","itemId","objPropName","newObjProps","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleIsFollowingProgress","pageIndex","totalCount","usersCount","followUnfollowFlow","apiMethod","actionCreator","bind","followed"],"mappings":"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","file":"static/js/main.0b1a9e2a.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n  withCredentials: true,\n  headers: {\n    'API-KEY': 'c2000f58-5fdf-49e4-81b7-b9b544914fce'\n  }\n});\n\nexport const usersAPI = {\n  auth() {\n    return instance.get(`auth/me`).then(response =>\n      response.data\n    );\n  },\n  getUsers(currentPage, pageSize) {\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response =>\n      response.data\n    );\n  },\n  follow(id) {\n    return instance.post(`follow/${id}`).then(response =>\n      response.data\n    );\n  },\n  unfollow(id) {\n    return instance.delete(`follow/${id}`).then(response =>\n      response.data\n    );\n  }\n}\n\nexport const profileAPI = {\n  getProfile(userID) {\n    return instance.get(`profile/${userID}`).then(response =>\n      response.data\n    );\n  },\n  getStatus(userID) {\n    return instance.get(`profile/status/${userID}`).then(response =>\n      response.data\n    );\n  },\n  updateStatus(status) {\n    return instance.put(`profile/status`, { status }).then(response =>\n      response.data\n    );\n  },\n}\n\nexport const authAPI = {\n  me() {\n    return instance.get(`auth/me`).then(response =>\n      response.data\n    );\n  },\n  login(email, password, rememberMe) {\n    return instance.post(`auth/login`, {email, password, rememberMe}).then(response =>\n      response.data\n    );\n  },\n  logout() {\n    return instance.delete(`auth/login`).then(response =>\n      response.data\n    );\n  },\n}","import { topFriends } from './global-state';\n\nconst initialState = {\n  topFriends\n};\n\nconst navbarReducer = (state = initialState, action) => {\n\n  return state;\n}\n\nexport default navbarReducer;","import { getAuthUserData } from './auth-reducer';\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS';\n\nconst initialState = {\n  initialized: false,\n};\n\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIALIZED_SUCCESS:\n      return ({\n        ...state,\n        initialized: true\n      })\n    default:\n      return state;\n  }\n}\n\nexport const setInitialazedSuccess = () => {\n  return {\n    type: INITIALIZED_SUCCESS,\n  }\n}\n\nexport const initializeApp = () => {\n  return dispatch => {\n    const promise = dispatch(getAuthUserData())\n\n    promise.then(() => dispatch(setInitialazedSuccess()));\n  }\n}\n\nexport default appReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport { reducer as formReducer } from 'redux-form';\nimport thunkMiddleware from  \"redux-thunk\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport navbarReducer from \"./navbar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport appReducer from \"./app-reducer\";\n\nconst reducers = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogsReducer,\n  usersPage: usersReducer,\n  navbar: navbarReducer,\n  auth: authReducer,\n  app: appReducer,\n  form: formReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\nwindow.store = store;\n\nexport default store;\n","import React, { Suspense } from 'react';\nimport Preloader from '../components/Preloader';\n\nexport const withSuspense = (Component) => {\n  return (props) => {\n    return (\n      <Suspense fallback={<Preloader />}>\n        <Component {...props} />\n      </Suspense>\n    )\n  }\n}\n","import React from 'react';\nimport s from '../styles/friendItem.module.css';\n\nconst FriendItem = ({img}) => {\n  return (\n    <li className={s.item}>\n      <img src={img} alt=\"friend\" className={s.img}/>\n    </li>\n  )\n}\n\nexport default FriendItem;","import React from 'react';\nimport s from '../styles/usersBar.module.css';\nimport FriendItem from './FriendItem';\n\nconst UsersBar = ({ topFriends }) => {\n  \n  return (\n    <>\n      <h2 className={s.title}>Top friends</h2>\n      <ul className={`${s.list} main-list`}>\n        {topFriends.map(Friend => <FriendItem img={Friend.img} key={Friend.id} />)}\n      </ul>\n    </>\n  )\n}\n\nexport default UsersBar;","import UsersBar from './UsersBar';\nimport { connect } from 'react-redux';\n\nconst mapStateToProps = (state) => {\n  return {\n    topFriends: state.navbar.topFriends,\n  }\n}\n\nconst UsersBarContainer = connect(mapStateToProps)(UsersBar);\n\n\nexport default UsersBarContainer;","import React from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport s from '../styles/navbar.module.css';\nimport UsersBarContainer from './UsersBarContainer';\n\nconst Navbar = ({ className }) => {\n  return (\n    <section className={className, s.navbar}>\n      <nav className={s['nav-list']}>\n        <ul className=\"main-list\">\n          <li>\n            <NavLink className={s.link} to=\"/profile\" activeClassName={s['link--active']}>\n              Profile\n            </NavLink >\n          </li>\n          <li>\n            <NavLink className={s.link} to=\"/dialogs\" activeClassName={s['link--active']}>\n              Messages\n            </NavLink >\n          </li>\n          <li >\n            <NavLink className={s.link} to=\"/news\" activeClassName={s['link--active']}>\n              News\n            </NavLink >\n          </li>\n          <li>\n            <NavLink className={s.link} to=\"/music\" activeClassName={s['link--active']}>\n              Music\n            </NavLink >\n          </li>\n          <li>\n            <NavLink className={s.link} to=\"/users\" activeClassName={s['link--active']}>\n              Users\n            </NavLink >\n          </li>\n          <li>\n            <NavLink className={s.link} to=\"/settings\" activeClassName={s['link--active']}>\n              Settings\n            </NavLink>\n          </li>\n        </ul>\n      </nav>\n      <UsersBarContainer />\n    </section>\n  )\n}\n\nexport default Navbar;\n","import React from 'react';\nimport { Route } from \"react-router-dom\";\nimport { withSuspense } from '../hoc/withSuspense';\nimport s from '../styles/main.module.css';\nimport Navbar from './Navbar';\n\nconst DialogsContainer = React.lazy(() => import('../pages/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('../pages/ProfileContainer'));\nconst LoginContainer = React.lazy(() => import('../pages/LoginContainer'));\nconst UsersContainer = React.lazy(() => import('../pages/UsersContainer'));\nconst Settings = React.lazy(() => import('../pages/Settings'));\nconst Music = React.lazy(() => import('../pages/Music'));\nconst News = React.lazy(() => import('../pages/News'));\n\nconst Main = () => {\n  return (\n    <main className={s.main}>\n      <Navbar className={s.navbar} />\n      <section className={s.content}>\n        <Route path=\"/profile/:userID?\" render={withSuspense(ProfileContainer)} />\n        <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\n        <Route path=\"/news\" render={withSuspense(News)} />\n        <Route path=\"/music\" render={withSuspense(Music)} />\n        <Route path=\"/users\" render={withSuspense(UsersContainer)} />\n        <Route path=\"/settings\" render={withSuspense(Settings)} />\n        <Route path=\"/login\" render={withSuspense(LoginContainer)} />\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n","import React from 'react';\nimport s from '../styles/header.module.css';\nimport { NavLink } from 'react-router-dom';\nimport MainBtn from './MainBtn';\n\nconst Header = ({ login, isAuth, logout }) => {\n  return (\n    <header className={s.header}>\n      <img src=\"https://i.pinimg.com/originals/d1/2b/cf/d12bcf726d8683c17229522b730ea061.png\" alt=\"logo\" width=\"140\" />\n\n      <div className={s['login-wrapper']}>\n        {\n          isAuth ?\n            <div>\n              <p className={s.login}>{login}</p>\n              <MainBtn onClick={logout}>Logout</MainBtn>\n            </div> :\n            <NavLink className={`main-link ${s.link}`} to={'/login'}>Login</NavLink>\n        }\n      </div>\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { logout } from '../redux/auth-reducer';\nimport Header from './Header';\n\nclass HeaderAPIComponent extends React.Component {\n  render() {\n    return (\n      <Header {...this.props} />\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    login: state.auth.login,\n    isAuth: state.auth.isAuth,\n  }\n}\n\nconst mapDispatchToProps = {\n  logout\n}\n\nconst HeaderContainer = connect(mapStateToProps, mapDispatchToProps)(HeaderAPIComponent)\n\nexport default HeaderContainer;","import React from 'react';\nimport './App.css';\nimport store from './redux/redux-store';\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from 'react-redux';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { initializeApp } from './redux/app-reducer';\nimport Main from './components/Main';\nimport HeaderContainer from './components/HeaderContainer';\nimport Preloader from './components/Preloader';\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n    return (\n      this.props.initialized ?\n        <div className=\"app-wrapper\">\n          <HeaderContainer />\n          <Main />\n        </div > :\n        <Preloader />\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    initialized: state.app.initialized,\n  }\n}\n\nconst mapDispatchToProps = {\n  initializeApp\n}\n\nconst AppContainer = compose(\n  connect(mapStateToProps, mapDispatchToProps)\n)(App);\n\nconst MainApp = () => {\n  return <BrowserRouter>\n    <Provider store={store}>\n      <AppContainer />\n    </Provider>\n  </BrowserRouter>\n}\n\nexport default MainApp;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\nimport MainApp from './App';\nimport './index.css';\nimport store from './redux/redux-store';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\n\n\nReactDOM.render(\n  <BrowserRouter>\n    <Provider store={store}>\n      <MainApp />\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","const messages = [\n  [\n    { id: 1, message: 'Hi', me: false },\n    { id: 2, message: 'Hi, what\\'s up?', me: true },\n  ],\n  [\n    { id: 1, message: 'Hi', me: true },\n    { id: 2, message: 'Hello', me: false },\n  ],\n  [\n    { id: 1, message: 'Yo', me: false },\n    { id: 2, message: 'what\\'s up?', me: false },\n    { id: 3, message: 'Hi, fine, you?', me: true },\n    { id: 4, message: 'Me too', me: false },\n  ],\n  [\n    { id: 2, message: 'what\\'s up?', me: false },\n    { id: 3, message: 'Hi, fine, you?', me: true },\n  ],\n  [\n    { id: 1, message: 'Yo', me: false },\n    { id: 2, message: 'what\\'s up?', me: false },\n  ],\n]\n\nexport const users = [\n  { id: 1, name: 'Dmitry', img: 'https://i.pinimg.com/originals/e1/13/f6/e113f64f714bcf8a32d0b183727e8f38.jpg', friend: true, messages: messages[0] },\n  { id: 2, name: 'Sasha', img: 'https://www.hdwallpapers.in/download/jake_sully_avatar_2009-normal.jpg', friend: false, messages: messages[1] },\n  { id: 3, name: 'Vlad', img: 'https://wallbox.ru/wallpapers/main/201546/c26dc72f2bd9e7f.jpg', friend: true, messages: messages[2] },\n  { id: 4, name: 'Katya', img: 'http://getwallpapers.com/wallpaper/full/0/f/5/1232404-download-avatar-hd-wallpaper-1920x1080-photo.jpg', friend: true, messages: messages[3] },\n  { id: 5, name: 'Valera', img: 'https://img3.goodfon.ru/wallpaper/nbig/4/99/neytiri-avatar.jpg', friend: false, messages: messages[4] },\n];\n\nexport const mainUser = {\n  img: 'https://i.pinimg.com/originals/d4/d7/f7/d4d7f72121dc2c81e04829f0184396d1.jpg'\n}\n\nconst friends = users.filter(user => user.friend);\nconst MAX_TOP_FRIENDS = 5;\n\nexport const topFriends = friends.length < MAX_TOP_FRIENDS ? friends : friends.slice(0, MAX_TOP_FRIENDS);\n","import { authAPI } from '../api/api';\nimport { stopSubmit } from 'redux-form';\n\nconst SET_USER_DATA = 'kama/auth/SET-USER0DATA';\n\nconst initialState = {\n  id: null,\n  email: null,\n  login: null,\n  isAuth: false\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_DATA:\n      return ({\n        ...state,\n        ...action.payload\n      })\n    default:\n      return state;\n  }\n}\n\nexport const setUserData = (id, email, login, isAuth) => {\n  return {\n    type: SET_USER_DATA,\n    payload: {\n      id,\n      email,\n      login,\n      isAuth\n    }\n  }\n}\n\nexport const getAuthUserData = () => async dispatch => {\n  const response = await authAPI.me();\n\n  if (response.resultCode === 0) {\n    const { id, login, email } = response.data;\n    dispatch(setUserData(id, email, login, true));\n  }\n}\n\nexport const login = (email, password, rememberMe) => async dispatch => {\n  const response = await authAPI.login(email, password, rememberMe);\n\n  if (response.resultCode === 0) {\n    dispatch(getAuthUserData());\n  } else {\n    const message = response.messages.length > 0 ? response.messages[0] : 'Some error';\n    dispatch(stopSubmit('login', { _error: message }));\n  }\n}\n\nexport const logout = () => async dispatch => {\n  const response = await authAPI.logout();\n\n  if (response.resultCode === 0) {\n    dispatch(setUserData(null, null, null, false));\n  }\n}\n\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__1OQ3J\",\"link\":\"header_link__rdGOj\",\"login\":\"header_login__1K5Ch\"};","export default __webpack_public_path__ + \"static/media/preloader.81da48ab.gif\";","import React from 'react';\nimport s from '../styles/users.module.css';\nimport preloader from '../assets/images/preloader.gif';\n\nconst Preloader = () => {\n  return <img className={s.loader} src={preloader} alt=\"loading...\" height=\"100\" width=\"100\"/>;\n}\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main_main__1WHJZ\",\"content\":\"main_content__22z-G\",\"navbar\":\"main_navbar__29LYs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"usersBar_title__FskZS\",\"list\":\"usersBar_list__CVwIw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"friendItem_item__2rJiH\",\"img\":\"friendItem_img__2JOPg\"};","import React from 'react';\nimport s from '../styles/mainBtn.module.css';\n\nconst MainBtn = ({ type, children, onClick }) => {\n  return (\n    <button className={s['main-btn']} type={type} onClick={onClick}>\n      {children}\n    </button>\n  )\n}\n\nexport default MainBtn;","import { profileAPI } from '../api/api';\nimport { mainUser } from './global-state';\n\nconst ADD_POST = 'kama/profile/ADD-POST';\nconst SET_USER_PROFILE = 'kama/profile/SET-USER-PROFILE';\nconst SET_STATUS = 'kama/profile/SET-STATUS';\nconst DELETEE_POST = 'kama/profile/DELETEE-POST';\n\nconst posts = [\n  { id: '1', message: 'Hi, how are you?', likes: '21', dislikes: '2' },\n  { id: '2', message: 'It\\'s my first post', likes: '32', dislikes: '0' },\n]\n\nconst initialState = {\n  posts,\n  mainUser,\n  status: ''\n};\n\nexport const profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      return {\n        ...state,\n        posts: [\n          ...state.posts,\n          {\n            id: new Date(),\n            message: action.message,\n            likes: '0',\n            dislikes: '0'\n          }\n        ]\n      };\n    case DELETEE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter(p => p.id !== action.postId)\n      };\n    case SET_USER_PROFILE:\n      return {\n        ...state,\n        profile: action.profile\n      };\n    case SET_STATUS:\n      return {\n        ...state,\n        status: action.status\n      };\n    default:\n      return state;\n  }\n}\n\nexport const addPost = (message) => {\n  return {\n    type: ADD_POST,\n    message\n  }\n}\n\nexport const deletePost = (postId) => {\n  return {\n    type: DELETEE_POST,\n    postId\n  }\n}\n\nexport const setUserProfile = (profile) => {\n  return {\n    type: SET_USER_PROFILE,\n    profile\n  }\n}\n\nexport const setStatus = (status) => {\n  return {\n    type: SET_STATUS,\n    status\n  }\n}\n\nexport const getUserProfile = (userID) => async dispatch => {\n  const response = await profileAPI.getProfile(userID);\n\n  dispatch(setUserProfile(response));\n}\n\nexport const getUserStatus = (userID) => async dispatch => {\n  const response = await profileAPI.getStatus(userID);\n  \n  dispatch(setStatus(response));\n}\n\nexport const updateStatus = (status) => async dispatch => {\n  const response = await profileAPI.updateStatus(status);\n\n  if (response.resultCode === 0) {\n    dispatch(setStatus(status));\n  }\n}\n\nexport default profileReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"navbar_navbar__3qOCN\",\"nav-list\":\"navbar_nav-list__16YEI\",\"link\":\"navbar_link__oB1pg\",\"link--active\":\"navbar_link--active__3dRe4\"};","import { mainUser, users } from './global-state';\n\nconst SEND_MESSAGE = 'SEND-MESSAGE';\n\nconst initialState = {\n  users,\n  mainUser,\n};\n\nexport const dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_MESSAGE:\n      return ({\n        ...state,\n        users: state.users.map(user => {\n          if (user.id === action.userID) {\n            return {\n              ...user, messages:\n                [\n                  ...user.messages,\n                  {\n                    id: new Date(),\n                    message: action.message,\n                    me: true\n                  }\n                ],\n              newMessageText: ''\n            };\n          }\n          return user;\n        })\n      })\n    default:\n      return state;\n  }\n}\n\nexport const sendNewMessage = (message, userID) => {\n  return {\n    type: SEND_MESSAGE,\n    userID,\n    message\n  }\n}\n\nexport default dialogsReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n  return items.map(item => {\n    if (item[objPropName] === itemId) {\n      return { ...item, ...newObjProps};\n    }\n    return item;\n  })\n}","import { usersAPI } from '../api/api';\nimport { updateObjectInArray } from '../utils/object-helpers';\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET-USERS';\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS';\n\nconst initialState = {\n  users: [],\n  pageSize: 5,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: true,\n  followingInProgress: []\n};\n\nconst usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USERS:\n      return ({\n        ...state,\n        users: action.users,\n      })\n    case FOLLOW:\n      return ({\n        ...state,\n        users: updateObjectInArray(state.users, action.userID, 'id', {followed: true})\n      })\n    case UNFOLLOW:\n        return({\n          ...state,\n          users: updateObjectInArray(state.users, action.userID, 'id', {followed: false})\n      })\n    case SET_TOTAL_USERS_COUNT:\n      return ({\n        ...state,\n        totalUsersCount: action.usersCount\n      })\n    case SET_CURRENT_PAGE:\n      return ({\n        ...state,\n        currentPage: action.pageIndex\n      })\n    case TOGGLE_IS_FETCHING:\n      return ({\n        ...state,\n        isFetching: action.isFetching\n      })\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\n      return ({\n        ...state,\n        followingInProgress: action.isFetching ?\n          [...state.followingInProgress, action.userID] :\n          [...state.followingInProgress.filter(id => id !== action.userID)]\n      })\n    default:\n      return state;\n  }\n}\n\nexport const followSuccess = (userID) => {\n  return {\n    type: FOLLOW,\n    userID\n  }\n}\n\nexport const unfollowSuccess = (userID) => {\n  return {\n    type: UNFOLLOW,\n    userID\n  }\n}\n\nexport const setUsers = (users) => {\n  return {\n    type: SET_USERS,\n    users\n  }\n}\n\nexport const setCurrentPage = (pageIndex) => {\n  return {\n    type: SET_CURRENT_PAGE,\n    pageIndex\n  }\n}\n\nexport const setTotalUsersCount = (usersCount) => {\n  return {\n    type: SET_TOTAL_USERS_COUNT,\n    usersCount\n  }\n}\n\nexport const toggleIsFetching = (isFetching) => {\n  return {\n    type: TOGGLE_IS_FETCHING,\n    isFetching\n  }\n}\n\nexport const toggleIsFollowingProgress = (isFetching, userID) => {\n  return {\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\n    isFetching,\n    userID\n  }\n}\n\nexport const getUsers = (currentPage, pageSize) => async dispatch => {\n  dispatch(toggleIsFetching(true));\n  dispatch(setCurrentPage(currentPage));\n\n  const response = await usersAPI.getUsers(currentPage, pageSize);\n  const totalCount = response.totalCount;\n\n  dispatch(setUsers(response.items));\n  dispatch(setTotalUsersCount(totalCount));\n  dispatch(toggleIsFetching(false));\n}\n\nconst followUnfollowFlow = async (userID, dispatch, apiMethod, actionCreator) => {\n  dispatch(toggleIsFollowingProgress(true, userID));\n\n  const response = await apiMethod(userID);\n\n  if (response.resultCode === 0) {\n    dispatch(actionCreator(userID));\n  }\n  dispatch(toggleIsFollowingProgress(false, userID));\n}\n\nexport const follow = (userID) => async dispatch => {\n  const apiMethod = usersAPI.follow.bind(usersAPI);\n\n  followUnfollowFlow(userID, dispatch, apiMethod, followSuccess);\n}\n\nexport const unfollow = (userID) => async dispatch => {\n  const apiMethod = usersAPI.unfollow.bind(usersAPI);\n\n  followUnfollowFlow(userID, dispatch, apiMethod, unfollowSuccess);\n}\n\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"users_loader__1MXQ5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-btn\":\"mainBtn_main-btn__1hYiJ\"};"],"sourceRoot":""}