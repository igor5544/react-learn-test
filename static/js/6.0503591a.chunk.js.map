{"version":3,"sources":["hoc/withAuthRedirect.js","assets/images/user.png","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","styles/user.module.css","components/common/pagination/paginationItem.module.css","components/common/pagination/paginationList.module.css","redux/users-selectors.js","components/User.js","components/UsersList.js","components/common/pagination/PaginationItem.js","components/common/pagination/PaginationList.js","pages/Users.js","pages/UsersContainer.js"],"names":["mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","getUsersData","usersPage","users","getPageSize","pageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","User","userInfo","follow","unfollow","className","s","user","id","style","display","photos","small","src","alt","fullName","userPhoto","followed","disabled","some","onClick","name","status","UsersList","map","key","PaginationItem","index","active","item","link","href","evt","preventDefault","PaginationList","totalItems","currentItem","setCurrentPage","portionSize","pageCount","Math","ceil","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","list","firstItem","lastItem","paginationsItems","getPaginationsItems","Users","onPageChanged","Preloader","UsersAPIComponent","getUsers","mapDispatchToProps","compose"],"mappings":"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","file":"static/js/6.0503591a.chunk.js","sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst mapStateToPropsRedirect = (state) => {\n  return {\n    isAuth: state.auth.isAuth\n  }\n}\n\nexport const withAuthRedirect = (Component) => {\n  \n  class RedirectComponent extends React.Component { \n    render() {\n      if (!this.props.isAuth) {\n        return <Redirect to={'/login'} />\n      }\n      \n      return <Component {...this.props} /> \n    }\n  }\n\n  const ConnectAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\n\n  return ConnectAuthRedirectComponent;\n}\n","export default __webpack_public_path__ + \"static/media/user.f4ae82d7.png\";","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"user_user__3gbUI\",\"user-bar\":\"user_user-bar__ivnH2\",\"user-action__wrapper\":\"user_user-action__wrapper__2Xhga\",\"user-info__wrapper\":\"user_user-info__wrapper__1LwC7\",\"btn--active\":\"user_btn--active__1llpc\",\"user-info__left-wrapper\":\"user_user-info__left-wrapper__bUtYZ\",\"user-info__right-wrapper\":\"user_user-info__right-wrapper__-LVPC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"paginationItem_item__2gWuK\",\"link\":\"paginationItem_link__uApJl\",\"item--active\":\"paginationItem_item--active__3v0Ll\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"paginationList_list__1SEV1\",\"arrow-btn\":\"paginationList_arrow-btn__37y6b\",\"arrow-btn--prev\":\"paginationList_arrow-btn--prev__1S-Qh\",\"arrow-btn--next\":\"paginationList_arrow-btn--next__1iZgI\"};","export const getUsersData = (state) => {\n  return state.usersPage.users\n}\n\nexport const getPageSize = (state) => {\n  return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount = (state) => {\n  return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = (state) => {\n  return state.usersPage.currentPage\n}\n\nexport const getIsFetching = (state) => {\n  return state.usersPage.isFetching\n}\n\nexport const getFollowingInProgress = (state) => {\n  return state.usersPage.followingInProgress\n}","import React from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport s from '../styles/user.module.css';\nimport userPhoto from '../assets/images/user.png';\n\nconst User = ({ userInfo, follow, unfollow, followingInProgress }) => {\n\n  return (\n    <li className={s.user}>\n      <article className={s['user-bar']}>\n        <div className={s['user-action__wrapper']}>\n          <NavLink to={`/profile/${userInfo.id}`} className=\"main-link\" style={{ display: 'block' }}>\n            {\n              userInfo.photos.small != null ?\n                <img src={userInfo.photos.small} alt={'Аватар ' + userInfo.fullName} /> :\n                <img src={userPhoto}\n                  alt={'Аватар заглушка'} />\n            }\n          </NavLink>\n          {\n            userInfo.followed ?\n              <button disabled={followingInProgress.some(id => id === userInfo.id)}\n                className={s['btn--active']}\n                onClick={() => {\n                  unfollow(userInfo.id);\n                }}>Unfollow</button> :\n              <button\n                disabled={followingInProgress.some(id => id === userInfo.id)}\n                onClick={() => {\n                  follow(userInfo.id);\n                }}>follow\n              </button>\n          }\n        </div>\n        <div className={s['user-info__wrapper']}>\n          <div className={s['user-info__left-wrapper']}>\n            <h3>\n              {userInfo.name}\n            </h3>\n            <p>\n              {\n                userInfo.status != null ?\n                  userInfo.status :\n                  'Hi everyone'\n              }\n            </p>\n          </div>\n          <div className={s['user-info__right-wrapper']}>\n            {/*  <p>\n              {userInfo.location.city},\n            </p>\n            <p>\n              {userInfo.location.country}\n            </p> */}\n          </div>\n        </div>\n\n      </article>\n    </li>\n  )\n}\n\nexport default User;","import React from 'react';\nimport User from './User';\n\nconst UsersList = ({ users, follow, unfollow, followingInProgress }) => {\n\n\n  return (\n    <ul className=\"main-list\">\n      {users.map(user =>\n        <User\n          key={user.id} userInfo={user}\n          follow={follow} unfollow={unfollow}\n          followingInProgress={followingInProgress}\n        />\n      )}\n    </ul>\n  )\n}\n\nexport default UsersList;","import React from 'react';\nimport s from './paginationItem.module.css';\n\nconst PaginationItem = ({ index, active, onClick }) => {\n  const onPaginationClick = (evt) => {\n    evt.preventDefault();\n\n    onClick();\n  }\n\n  return (\n    <li className={`${s.item} ${active && s['item--active']}`}>\n      <a className={s.link} href=\"#\" onClick={onPaginationClick}>\n        {index}\n      </a>\n    </li>\n  )\n}\n\nexport default PaginationItem;\n","import React, { useState } from 'react';\nimport PaginationItem from './PaginationItem';\nimport s from './paginationList.module.css';\n\nconst PaginationList = ({ pageSize, totalItems, currentItem, setCurrentPage, portionSize = 12 }) => {\n  const pageCount = Math.ceil(totalItems / pageSize);\n  const portionCount = Math.ceil(pageCount / portionSize);\n  const [portionNumber, setPortionNumber] = useState(1);\n  const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n  let rightPortionPageNumber = portionNumber * portionSize;\n\n  if (portionNumber === portionCount) {\n    rightPortionPageNumber = pageCount;\n  }\n\n  const getPaginationsItems = (firstItem, lastItem) => {\n    const paginationsItems = [];\n\n    for (let i = firstItem; i <= lastItem; i++) {\n      paginationsItems.push(\n        <PaginationItem\n          index={i}\n          key={i}\n          active={i === currentItem ? true : false}\n          onClick={() => setCurrentPage(i)}\n        />\n      );\n    }\n\n    return paginationsItems;\n  };\n\n  return (\n    <ul className={`main-list ${s.list}`}>\n      { portionNumber !== 1 &&\n        <li>\n          <button className={`${s['arrow-btn']} ${s['arrow-btn--prev']}`} onClick={() => {\n            setPortionNumber(portionNumber - 1);\n          }} />\n        </li>\n      }\n      {\n        getPaginationsItems(leftPortionPageNumber, rightPortionPageNumber)\n      }\n      { portionNumber !== portionCount &&\n        <li>\n          <button className={`${s['arrow-btn']} ${s['arrow-btn--next']}`} onClick={() => {\n            setPortionNumber(portionNumber + 1);\n          }} />\n        </li>\n      }\n    </ul>\n  )\n}\n\nexport default PaginationList;\n","import React from 'react';\nimport UsersList from '../components/UsersList';\nimport PaginationList from '../components/common/pagination/PaginationList';\nimport Preloader from '../components/Preloader';\n\nconst Users = ({ users, pageSize, totalUsersCount, currentPage, onPageChanged, follow, unfollow, isFetching, followingInProgress }) => {\n  return (\n    <section>\n      <h2 className=\"main-title\">Users list</h2>\n      <PaginationList\n        pageSize={pageSize}\n        totalItems={totalUsersCount}\n        currentItem={currentPage}\n        setCurrentPage={onPageChanged}\n      />\n      {\n        isFetching ?\n          <Preloader /> :\n          <UsersList\n            users={users}\n            follow={follow}\n            unfollow={unfollow}\n            followingInProgress={followingInProgress}\n          />\n      }\n    </section>\n  )\n}\n\nexport default Users;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { follow, unfollow, getUsers } from '../redux/users-reducer';\nimport { withAuthRedirect } from '../hoc/withAuthRedirect';\nimport { getUsersData, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../redux/users-selectors';\nimport Users from './Users';\n\nclass UsersAPIComponent extends React.Component {\n  componentDidMount() {\n    const { currentPage, pageSize } = this.props;\n\n    this.props.getUsers(currentPage, pageSize);\n  }\n\n  onPageChanged = i => {\n    const { pageSize } = this.props;\n\n    this.props.getUsers(i, pageSize);\n  }\n\n  render() {\n    return (\n      <Users\n        users={this.props.users}\n        pageSize={this.props.pageSize}\n        totalUsersCount={this.props.totalUsersCount}\n        currentPage={this.props.currentPage}\n        onPageChanged={this.onPageChanged}\n        follow={this.props.follow}\n        unfollow={this.props.unfollow}\n        isFetching={this.props.isFetching}\n        followingInProgress={this.props.followingInProgress}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    users: getUsersData(state),\n    pageSize: getPageSize(state),\n    totalUsersCount: getTotalUsersCount(state),\n    currentPage: getCurrentPage(state),\n    isFetching: getIsFetching(state),\n    followingInProgress: getFollowingInProgress(state),\n  }\n}\n\nconst mapDispatchToProps = {\n  follow,\n  unfollow,\n  getUsers\n}\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withAuthRedirect\n)(UsersAPIComponent);"],"sourceRoot":""}