(this["webpackJsonplesson-1-kama"]=this["webpackJsonplesson-1-kama"]||[]).push([[5],{229:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return m}));var r=a(243),n=a(0),o=a.n(n),l=a(232),c=a.n(l),s=function(e){var t=e.children,a=e.meta,n=Object(r.a)(e,["children","meta"]),l=a.touched&&a.error;return o.a.createElement("div",{className:"".concat(c.a["form-control"],"  ").concat(l&&c.a.error," ").concat(n.wrapperclass)},t,l&&o.a.createElement("p",null," ",a.error," "))},i=function(e){var t=e.input,a=(e.meta,e.label),n=Object(r.a)(e,["input","meta","label"]);return o.a.createElement(s,e,a&&o.a.createElement("label",{htmlFor:n.id},a),o.a.createElement("textarea",Object.assign({},t,n)))},u=function(e){var t=e.input,a=(e.meta,e.label),n=Object(r.a)(e,["input","meta","label"]);return o.a.createElement(s,e,a&&o.a.createElement("label",{htmlFor:n.id},a),o.a.createElement("input",Object.assign({},t,n)))},m=function(e){var t=e.input,a=(e.meta,e.label),n=Object(r.a)(e,["input","meta","label"]);return o.a.createElement(s,e,o.a.createElement("input",Object.assign({},t,n)),o.a.createElement("label",{htmlFor:n.id},a))}},230:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n}));var r=function(e){return e?void 0:"Field is required"},n=function(e){return function(t){return t.length<=e?void 0:"Max length is 30 symblos"}}},231:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var r=a(35),n=a(36),o=a(38),l=a(37),c=a(0),s=a.n(c),i=a(6),u=a(17),m=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){Object(o.a)(c,t);var a=Object(l.a)(c);function c(){return Object(r.a)(this,c),a.apply(this,arguments)}return Object(n.a)(c,[{key:"render",value:function(){return this.props.isAuth?s.a.createElement(e,this.props):s.a.createElement(i.a,{to:"/login"})}}]),c}(s.a.Component);return Object(u.b)(m)(t)}},232:function(e,t,a){e.exports={error:"formsControls_error__3NdZw"}},235:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(63);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done)&&(a.push(l.value),!t||a.length!==t);r=!0);}catch(s){n=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(n)throw o}}return a}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},236:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(113),l=a(114),c=a(229),s=a(230),i=a(237),u=a.n(i),m=a(62),p=Object(s.a)(50),f=function(e){return n.a.createElement("form",{method:"GET",onSubmit:e.handleSubmit},n.a.createElement(o.a,{className:u.a.textarea,wrapperclass:u.a.textarea__wrapper,rows:"5",name:"message",component:c.c,validate:[s.b,p]}),n.a.createElement(m.a,{type:"submit"},e.btnText))};t.a=function(e){var t=e.btnText,a=e.addText,r=e.id,o=Object(l.a)({form:"messageForm".concat(r)})(f);return n.a.createElement(o,{onSubmit:function(e){a(e.message,r)},btnText:t})}},237:function(e,t,a){e.exports={textarea:"messageForm_textarea__2-KHT",textarea__wrapper:"messageForm_textarea__wrapper__tbFGx"}},242:function(e,t,a){"use strict";t.a=a.p+"static/media/user.f4ae82d7.png"},302:function(e,t,a){e.exports={item:"post_item__2Agii"}},303:function(e,t,a){e.exports={"top-wrapper":"profileInfo_top-wrapper__2u7GZ","edit-btn":"profileInfo_edit-btn__1cdIQ","avatar-img":"profileInfo_avatar-img__IZegl","img-btn":"profileInfo_img-btn__3tP0t",list:"profileInfo_list__JkXA9",contacts:"profileInfo_contacts__nYCBJ",contacts__lsit:"profileInfo_contacts__lsit__22UTl",name:"profileInfo_name__3TMaK"}},304:function(e,t,a){e.exports={text:"profileStatus_text__3Ay9O","text-field":"profileStatus_text-field__3ebEV"}},305:function(e,t,a){e.exports={form:"profileDataForm_form__31NoW",field:"profileDataForm_field__3Qk28","textarea-wrapper":"profileDataForm_textarea-wrapper__cNcEP","contacts-wrapper":"profileDataForm_contacts-wrapper__2oIdV","checkbox-wrapper":"profileDataForm_checkbox-wrapper__2YjqG",error:"profileDataForm_error__3HQPA"}},313:function(e,t,a){"use strict";a.r(t);var r=a(35),n=a(36),o=a(38),l=a(37),c=a(0),s=a.n(c),i=a(17),u=a(19),m=a(6),p=a(231),f=a(69),b=a(302),d=a.n(b),h=function(e){var t=e.message,a=e.likes,r=e.dislikes;return s.a.createElement("li",{className:d.a.item},s.a.createElement("img",{src:"https://taxi-forum.ru/sites/default/files/styles/64x64/public/avatars/picture-24090-1554010154.jpg?itok=QXwWtQ9L",alt:"another user",height:"64",width:"64"}),s.a.createElement("div",null,s.a.createElement("p",null,t),s.a.createElement("div",null,s.a.createElement("button",null,"like ",s.a.createElement("span",null,a)),s.a.createElement("button",null,"dislike ",s.a.createElement("span",null,r)))))},E=function(e){var t=e.posts;return s.a.createElement("ul",{className:"main-list"},t.map((function(e){return s.a.createElement(h,{message:e.message,likes:e.likes,dislikes:e.dislikes,key:e.id})})))},v=a(236),_=function(e){var t=e.posts,a=e.addPost;return s.a.createElement("section",null,s.a.createElement("h2",{className:"main-title"},"Posts"),s.a.createElement(v.a,{btnText:"Add post",addText:a}),s.a.createElement(E,{posts:t}))},g=s.a.memo(_),k=a(235),x=a(303),y=a.n(x),j=a(242),w=a(304),O=a.n(w),P=function(e){var t=Object(c.useState)(!1),a=Object(k.a)(t,2),r=a[0],n=a[1],o=Object(c.useState)(e.status),l=Object(k.a)(o,2),i=l[0],u=l[1];Object(c.useEffect)((function(){u(e.status)}),[e.status]);return s.a.createElement(s.a.Fragment,null,r?s.a.createElement("input",{autoFocus:!0,onChange:function(e){u(e.currentTarget.value)},onBlur:function(){n(!1),e.updateStatus(i)},className:O.a["text-field"],type:"text",name:"Status",value:i}):s.a.createElement("p",{onDoubleClick:function(){n(!0)},className:O.a.text},e.status?e.status:"Hello everyone!"))},N=a(305),S=a.n(N),F=a(113),D=a(114),I=a(229),A=a(230),T=a(62),C=Object(D.a)({form:"ProfileData"})((function(e){var t=e.handleSubmit,a=e.profileContacts,r=e.error;return s.a.createElement("form",{onSubmit:t,className:S.a.form},s.a.createElement(F.a,{type:"text",id:"fullName",name:"fullName",label:"Full name: ",component:I.b,wrapperclass:S.a.field,validate:[A.b]}),s.a.createElement(F.a,{type:"text",id:"aboutMe",name:"aboutMe",label:"About me: ",component:I.c,wrapperclass:"".concat(S.a.field," ").concat(S.a["textarea-wrapper"]),validate:[A.b]}),s.a.createElement(F.a,{type:"checkbox",name:"lookingForAJob",id:"lookingForAJob",label:"Looking for job?",component:I.a,wrapperclass:"".concat(S.a["checkbox-wrapper"]," ").concat(S.a.field)}),s.a.createElement(F.a,{type:"text",id:"lookingForAJobDescription",name:"lookingForAJobDescription",label:"My professional skills: ",component:I.c,wrapperclass:"".concat(S.a.field," ").concat(S.a["textarea-wrapper"]),validate:[A.b]}),s.a.createElement("b",{style:{display:"block",marginBottom:"15px"}},"Contacts:"),Object.keys(a).map((function(e){return s.a.createElement(F.a,{type:"text",id:e,name:"contacts.".concat(e),label:e+": ",component:I.b,wrapperclass:"".concat(S.a.field," ").concat(S.a["contacts-wrapper"]),placeholder:e,key:e})})),r&&s.a.createElement("p",{className:S.a.error},r),s.a.createElement(T.a,{type:"submit"},"Save"))})),J=function(e){var t=e.userInfo;return s.a.createElement("ul",{className:y.a.list},s.a.createElement("li",null,t.aboutMe),s.a.createElement("li",null,"Looking for a job: ",s.a.createElement("b",null,t.lookingForAJob?"Looking for":"nope"),s.a.createElement("ul",{className:y.a.list},s.a.createElement("li",null,t.lookingForAJobDescription))))},M=function(e){var t=e.socialLinks;return s.a.createElement(s.a.Fragment,null,t.length>0&&s.a.createElement("div",{className:y.a.contacts},s.a.createElement("h3",null,"contacts:"),s.a.createElement("ul",{className:"".concat(y.a.contacts__lsit," main-list")},t)))},L=function(e){var t=e.userInfo,a=e.status,r=e.updateStatus,n=e.isOwner,o=e.savePhoto,l=e.saveProfile,i=Object(c.useState)(!1),u=Object(k.a)(i,2),m=u[0],p=u[1],f=[],b=/^((http|https|ftp):\/\/)/;for(var d in t.contacts)if(null!==t.contacts[d]&&""!==t.contacts[d]){var h=t.contacts[d];b.test(h)||(h="http://"+h),f.push(s.a.createElement("li",{key:d,className:"card-panel"},s.a.createElement("b",null,d,": "),s.a.createElement("a",{className:"main-link",target:"_blank",rel:"noreferrer",href:h},t.contacts[d])))}return s.a.createElement("section",{className:y.a["mian-wrapper"]},s.a.createElement("img",{src:"https://mobimg.b-cdn.net/pic/v2/gallery/preview/dorogi-pejzazh-priroda-48515.jpg",style:{display:"block",objectFit:"cover"},alt:"long road",height:"320"}),s.a.createElement("div",{className:y.a["top-wrapper"]},s.a.createElement("div",null,s.a.createElement("img",{className:y.a["avatar-img"],src:t.photos.large?t.photos.large:j.a,alt:"user avatar",height:"50"}),n&&s.a.createElement("form",null,s.a.createElement("input",{className:y.a["img-btn"],type:"file",accept:"image/*",onChange:function(e){e.target.files.length&&o(e.target.files[0])}}))),s.a.createElement("div",null,!m&&s.a.createElement("h2",{className:y.a.name},t.fullName),s.a.createElement(P,{status:a,updateStatus:r}),!m&&s.a.createElement(J,{userInfo:t})),n&&!m&&s.a.createElement("button",{className:y.a["edit-btn"],onClick:function(){return p(!0)}},"Edit")),m?s.a.createElement(C,{initialValues:t,profileContacts:t.contacts,onSubmit:function(e){l(e).then((function(){p(!1)}))}}):s.a.createElement(M,{socialLinks:f}))},U=a(46),Q=function(e){var t=e.profileData,a=e.addPost,r=e.updateStatus,n=e.isOwner,o=e.savePhoto,l=e.saveProfile;return t.profile?s.a.createElement("section",null,s.a.createElement(L,{userInfo:t.profile,status:t.status,updateStatus:r,isOwner:n,savePhoto:o,saveProfile:l}),s.a.createElement(g,{posts:t.posts,addPost:a})):s.a.createElement(U.a,null)},G=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userID;e||(e=this.props.userID),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userID!==e.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return s.a.createElement(Q,{isOwner:!this.props.match.params.userID,profileData:this.props.profileData,addPost:this.props.addPost,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile})}}]),a}(s.a.Component),B={addPost:f.a,getUserProfile:f.c,getUserStatus:f.d,updateStatus:f.g,savePhoto:f.e,saveProfile:f.f};t.default=Object(u.d)(Object(i.b)((function(e){return{profileData:e.profilePage,userID:e.auth.id}}),B),m.g,p.a)(G)}}]);
//# sourceMappingURL=5.9e9f219b.chunk.js.map