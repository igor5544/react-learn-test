{"version":3,"sources":["redux/navbar-reducer.js","redux/app-reducer.js","redux/redux-store.js","hoc/withSuspense.js","components/FriendItem.js","components/UsersBar.js","components/UsersBarContainer.js","components/Navbar.js","components/Main.js","components/Header.js","components/HeaderContainer.js","App.js","serviceWorker.js","index.js","redux/global-state.js","redux/auth-reducer.js","styles/header.module.css","assets/images/preloader.gif","components/Preloader.js","styles/main.module.css","styles/usersBar.module.css","styles/friendItem.module.css","components/MainBtn.js","redux/profile-reducer.js","api/api.js","redux/dialogs-reducer.js","utils/object-helpers.js","redux/users-reducer.js","styles/navbar.module.css","styles/users.module.css","styles/mainBtn.module.css"],"names":["initialState","topFriends","navbarReducer","state","INITIALIZED_SUCCESS","initialized","appReducer","action","type","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","usersPage","usersReducer","navbar","auth","authReducer","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Component","props","fallback","Preloader","FriendItem","img","className","s","item","src","alt","UsersBar","title","list","map","Friend","key","id","UsersBarContainer","connect","Navbar","link","to","activeClassName","DialogsContainer","React","lazy","ProfileContainer","LoginContainer","UsersContainer","Settings","Music","News","Main","main","content","path","exact","render","Header","login","isAuth","logout","header","width","MainBtn","onClick","HeaderAPIComponent","this","mapDispatchToProps","HeaderContainer","App","catchAllUnhandledErrors","reason","promise","alert","initializeApp","addEventListener","removeEventListener","dispatch","getAuthUserData","then","AppContainer","MainApp","Boolean","location","hostname","match","ReactDOM","basename","process","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message","messages","me","users","name","friend","mainUser","friends","filter","user","length","slice","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","email","captchaUrl","setUserData","payload","a","authAPI","response","resultCode","data","password","rememberMe","captcha","getCaptchaUrl","stopSubmit","_error","securityAPI","url","module","exports","loader","preloader","height","children","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETEE_POST","SAVE_PHOTO_SUCCESS","posts","likes","dislikes","status","addPost","setStatus","getUserProfile","userID","profileAPI","getProfile","profile","getUserStatus","getStatus","updateStatus","savePhoto","file","photos","saveProfile","profileData","getState","Promise","reject","Date","p","postId","instance","axios","create","baseURL","withCredentials","headers","usersAPI","get","getUsers","currentPage","pageSize","follow","post","unfollow","delete","put","formData","FormData","append","SEND_MESSAGE","sendNewMessage","newMessageText","updateObjectInArray","items","itemId","objPropName","newObjProps","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleIsFollowingProgress","pageIndex","totalCount","usersCount","followUnfollowFlow","apiMethod","actionCreator","bind","followed"],"mappings":"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","file":"static/js/main.0cd74d50.chunk.js","sourcesContent":["import { topFriends } from './global-state';\n\nconst initialState = {\n  topFriends\n};\n\nconst navbarReducer = (state = initialState, action) => {\n\n  return state;\n}\n\nexport default navbarReducer;","import { getAuthUserData } from './auth-reducer';\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS';\n\nconst initialState = {\n  initialized: false,\n};\n\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIALIZED_SUCCESS:\n      return ({\n        ...state,\n        initialized: true\n      })\n    default:\n      return state;\n  }\n}\n\nexport const setInitialazedSuccess = () => {\n  return {\n    type: INITIALIZED_SUCCESS,\n  }\n}\n\nexport const initializeApp = () => {\n  return dispatch => {\n    const promise = dispatch(getAuthUserData())\n\n    promise.then(() => dispatch(setInitialazedSuccess()));\n  }\n}\n\nexport default appReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport { reducer as formReducer } from 'redux-form';\nimport thunkMiddleware from  \"redux-thunk\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport navbarReducer from \"./navbar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport appReducer from \"./app-reducer\";\n\nconst reducers = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogsReducer,\n  usersPage: usersReducer,\n  navbar: navbarReducer,\n  auth: authReducer,\n  app: appReducer,\n  form: formReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\nwindow.store = store;\n\nexport default store;\n","import React, { Suspense } from 'react';\nimport Preloader from '../components/Preloader';\n\nexport const withSuspense = (Component) => {\n  return (props) => {\n    return (\n      <Suspense fallback={<Preloader />}>\n        <Component {...props} />\n      </Suspense>\n    )\n  }\n}\n","import React from 'react';\nimport s from '../styles/friendItem.module.css';\n\nconst FriendItem = ({img}) => {\n  return (\n    <li className={s.item}>\n      <img src={img} alt=\"friend\" className={s.img}/>\n    </li>\n  )\n}\n\nexport default FriendItem;","import React from 'react';\nimport s from '../styles/usersBar.module.css';\nimport FriendItem from './FriendItem';\n\nconst UsersBar = ({ topFriends }) => {\n  \n  return (\n    <>\n      <h2 className={s.title}>Top friends</h2>\n      <ul className={`${s.list} main-list`}>\n        {topFriends.map(Friend => <FriendItem img={Friend.img} key={Friend.id} />)}\n      </ul>\n    </>\n  )\n}\n\nexport default UsersBar;","import UsersBar from './UsersBar';\nimport { connect } from 'react-redux';\n\nconst mapStateToProps = (state) => {\n  return {\n    topFriends: state.navbar.topFriends,\n  }\n}\n\nconst UsersBarContainer = connect(mapStateToProps)(UsersBar);\n\n\nexport default UsersBarContainer;","import React from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport s from '../styles/navbar.module.css';\nimport UsersBarContainer from './UsersBarContainer';\n\nconst Navbar = ({ className }) => {\n  return (\n    <section className={className, s.navbar}>\n      <nav className={s['nav-list']}>\n        <ul className=\"main-list\">\n          <li>\n            <NavLink className={s.link} to=\"/profile\" activeClassName={s['link--active']}>\n              Profile\n            </NavLink >\n          </li>\n          <li>\n            <NavLink className={s.link} to=\"/dialogs\" activeClassName={s['link--active']}>\n              Messages\n            </NavLink >\n          </li>\n          <li >\n            <NavLink className={s.link} to=\"/news\" activeClassName={s['link--active']}>\n              News\n            </NavLink >\n          </li>\n          <li>\n            <NavLink className={s.link} to=\"/music\" activeClassName={s['link--active']}>\n              Music\n            </NavLink >\n          </li>\n          <li>\n            <NavLink className={s.link} to=\"/users\" activeClassName={s['link--active']}>\n              Users\n            </NavLink >\n          </li>\n          <li>\n            <NavLink className={s.link} to=\"/settings\" activeClassName={s['link--active']}>\n              Settings\n            </NavLink>\n          </li>\n        </ul>\n      </nav>\n      <UsersBarContainer />\n    </section>\n  )\n}\n\nexport default Navbar;\n","import React from 'react';\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport { withSuspense } from '../hoc/withSuspense';\nimport s from '../styles/main.module.css';\nimport Navbar from './Navbar';\n\nconst DialogsContainer = React.lazy(() => import('../pages/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('../pages/ProfileContainer'));\nconst LoginContainer = React.lazy(() => import('../pages/LoginContainer'));\nconst UsersContainer = React.lazy(() => import('../pages/UsersContainer'));\nconst Settings = React.lazy(() => import('../pages/Settings'));\nconst Music = React.lazy(() => import('../pages/Music'));\nconst News = React.lazy(() => import('../pages/News'));\n\nconst Main = () => {\n  return (\n    <main className={s.main}>\n      <Navbar className={s.navbar} />\n      <section className={s.content}>\n        <Switch>\n          <Route path=\"/\" exact render={() => <Redirect to={\"/profile\"}/>} />\n          <Route path=\"/profile/:userID?\" render={withSuspense(ProfileContainer)} />\n          <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\n          <Route path=\"/news\" render={withSuspense(News)} />\n          <Route path=\"/music\" render={withSuspense(Music)} />\n          <Route path=\"/users\" render={withSuspense(UsersContainer)} />\n          <Route path=\"/settings\" render={withSuspense(Settings)} />\n          <Route path=\"/login\" render={withSuspense(LoginContainer)} />\n          <Route path=\"*\" render={() => <div>404 NOT FOUND</div>} />\n        </Switch>\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n","import React from 'react';\nimport s from '../styles/header.module.css';\nimport { NavLink } from 'react-router-dom';\nimport MainBtn from './MainBtn';\n\nconst Header = ({ login, isAuth, logout }) => {\n  return (\n    <header className={s.header}>\n      <img src=\"https://i.pinimg.com/originals/d1/2b/cf/d12bcf726d8683c17229522b730ea061.png\" alt=\"logo\" width=\"140\" />\n\n      <div className={s['login-wrapper']}>\n        {\n          isAuth ?\n            <div>\n              <p className={s.login}>{login}</p>\n              <MainBtn onClick={logout}>Logout</MainBtn>\n            </div> :\n            <NavLink className={`main-link ${s.link}`} to={'/login'}>Login</NavLink>\n        }\n      </div>\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { logout } from '../redux/auth-reducer';\nimport Header from './Header';\n\nclass HeaderAPIComponent extends React.Component {\n  render() {\n    return (\n      <Header {...this.props} />\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    login: state.auth.login,\n    isAuth: state.auth.isAuth,\n  }\n}\n\nconst mapDispatchToProps = {\n  logout\n}\n\nconst HeaderContainer = connect(mapStateToProps, mapDispatchToProps)(HeaderAPIComponent)\n\nexport default HeaderContainer;","import React from 'react';\nimport './App.css';\nimport store from './redux/redux-store';\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from 'react-redux';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { initializeApp } from './redux/app-reducer';\nimport Main from './components/Main';\nimport HeaderContainer from './components/HeaderContainer';\nimport Preloader from './components/Preloader';\n\nclass App extends React.Component {\n  catchAllUnhandledErrors = (reason, promise) => {\n    alert(reason)\n  }\n\n  componentDidMount() {\n    this.props.initializeApp();\n\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n  }\n\n  render() {\n    return (\n      this.props.initialized ?\n        <div className=\"app-wrapper\">\n          <HeaderContainer />\n          <Main />\n        </div > :\n        <Preloader />\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    initialized: state.app.initialized,\n  }\n}\n\nconst mapDispatchToProps = {\n  initializeApp\n}\n\nconst AppContainer = compose(\n  connect(mapStateToProps, mapDispatchToProps)\n)(App);\n\nconst MainApp = () => {\n  return <BrowserRouter>\n    <Provider store={store}>\n      <AppContainer />\n    </Provider>\n  </BrowserRouter>\n}\n\nexport default MainApp;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\nimport MainApp from './App';\nimport './index.css';\nimport store from './redux/redux-store';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\n\n\nReactDOM.render(\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <Provider store={store}>\n      <MainApp />\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","const messages = [\n  [\n    { id: 1, message: 'Hi', me: false },\n    { id: 2, message: 'Hi, what\\'s up?', me: true },\n  ],\n  [\n    { id: 1, message: 'Hi', me: true },\n    { id: 2, message: 'Hello', me: false },\n  ],\n  [\n    { id: 1, message: 'Yo', me: false },\n    { id: 2, message: 'what\\'s up?', me: false },\n    { id: 3, message: 'Hi, fine, you?', me: true },\n    { id: 4, message: 'Me too', me: false },\n  ],\n  [\n    { id: 2, message: 'what\\'s up?', me: false },\n    { id: 3, message: 'Hi, fine, you?', me: true },\n  ],\n  [\n    { id: 1, message: 'Yo', me: false },\n    { id: 2, message: 'what\\'s up?', me: false },\n  ],\n]\n\nexport const users = [\n  { id: 1, name: 'Dmitry', img: 'https://i.pinimg.com/originals/e1/13/f6/e113f64f714bcf8a32d0b183727e8f38.jpg', friend: true, messages: messages[0] },\n  { id: 2, name: 'Sasha', img: 'https://www.hdwallpapers.in/download/jake_sully_avatar_2009-normal.jpg', friend: false, messages: messages[1] },\n  { id: 3, name: 'Vlad', img: 'https://wallbox.ru/wallpapers/main/201546/c26dc72f2bd9e7f.jpg', friend: true, messages: messages[2] },\n  { id: 4, name: 'Katya', img: 'http://getwallpapers.com/wallpaper/full/0/f/5/1232404-download-avatar-hd-wallpaper-1920x1080-photo.jpg', friend: true, messages: messages[3] },\n  { id: 5, name: 'Valera', img: 'https://img3.goodfon.ru/wallpaper/nbig/4/99/neytiri-avatar.jpg', friend: false, messages: messages[4] },\n];\n\nexport const mainUser = {\n  img: 'https://i.pinimg.com/originals/d4/d7/f7/d4d7f72121dc2c81e04829f0184396d1.jpg'\n}\n\nconst friends = users.filter(user => user.friend);\nconst MAX_TOP_FRIENDS = 5;\n\nexport const topFriends = friends.length < MAX_TOP_FRIENDS ? friends : friends.slice(0, MAX_TOP_FRIENDS);\n","import { authAPI, securityAPI } from '../api/api';\nimport { stopSubmit } from 'redux-form';\n\nconst SET_USER_DATA = 'kama/auth/SET-USER0DATA';\nconst GET_CAPTCHA_URL_SUCCESS = 'kama/auth/GET-CAPTCHA0-URL-SUCCESS';\n\nconst initialState = {\n  id: null,\n  email: null,\n  login: null,\n  isAuth: false,\n  captchaUrl: null\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_DATA:\n      return ({\n        ...state,\n        ...action.payload\n      });\n    case GET_CAPTCHA_URL_SUCCESS :\n      return ({\n        ...state,\n        captchaUrl: action.captchaUrl\n      });\n    default:\n      return state;\n  }\n}\n\nexport const setUserData = (id, email, login, isAuth) => {\n  return {\n    type: SET_USER_DATA,\n    payload: {\n      id,\n      email,\n      login,\n      isAuth\n    }\n  }\n}\nexport const getCaptchaUrlSuccess = (captchaUrl) => {\n  return {\n    type: GET_CAPTCHA_URL_SUCCESS,\n    captchaUrl\n  }\n}\n\nexport const getAuthUserData = () => async dispatch => {\n  const response = await authAPI.me();\n\n  if (response.resultCode === 0) {\n    const { id, login, email } = response.data;\n    dispatch(setUserData(id, email, login, true));\n  }\n}\n\nexport const login = (email, password, rememberMe, captcha) => async dispatch => {\n  const response = await authAPI.login(email, password, rememberMe, captcha);\n\n  if (response.resultCode === 0) {\n    dispatch(getAuthUserData());\n  } else {\n    if (response.resultCode === 10) {\n      dispatch(getCaptchaUrl());\n    }\n\n    const message = response.messages.length > 0 ? response.messages[0] : 'Some error';\n    dispatch(stopSubmit('login', { _error: message }));\n  }\n}\n\nexport const logout = () => async dispatch => {\n  const response = await authAPI.logout();\n\n  if (response.resultCode === 0) {\n    dispatch(setUserData(null, null, null, false));\n  }\n}\n\nexport const getCaptchaUrl = () => async dispatch => {\n  const response = await securityAPI.getCaptchaUrl();\n\n  dispatch(getCaptchaUrlSuccess(response.url));\n}\n\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__1OQ3J\",\"link\":\"header_link__rdGOj\",\"login\":\"header_login__1K5Ch\"};","export default __webpack_public_path__ + \"static/media/preloader.81da48ab.gif\";","import React from 'react';\nimport s from '../styles/users.module.css';\nimport preloader from '../assets/images/preloader.gif';\n\nconst Preloader = () => {\n  return <img className={s.loader} src={preloader} alt=\"loading...\" height=\"100\" width=\"100\"/>;\n}\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main_main__1WHJZ\",\"content\":\"main_content__22z-G\",\"navbar\":\"main_navbar__29LYs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"usersBar_title__FskZS\",\"list\":\"usersBar_list__CVwIw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"friendItem_item__2rJiH\",\"img\":\"friendItem_img__2JOPg\"};","import React from 'react';\nimport s from '../styles/mainBtn.module.css';\n\nconst MainBtn = ({ type, children, onClick, className }) => {\n  return (\n    <button className={`${className} ${s['main-btn']}`} type={type} onClick={onClick}>\n      {children}\n    </button>\n  )\n}\n\nexport default MainBtn;","import { profileAPI } from '../api/api';\nimport { mainUser } from './global-state';\nimport { stopSubmit } from 'redux-form';\n\nconst ADD_POST = 'kama/profile/ADD-POST';\nconst SET_USER_PROFILE = 'kama/profile/SET-USER-PROFILE';\nconst SET_STATUS = 'kama/profile/SET-STATUS';\nconst DELETEE_POST = 'kama/profile/DELETEE-POST';\nconst SAVE_PHOTO_SUCCESS = 'kama/profile/SAVE-PHOTO-SUCCESS';\n\nconst posts = [\n  { id: '1', message: 'Hi, how are you?', likes: '21', dislikes: '2' },\n  { id: '2', message: 'It\\'s my first post', likes: '32', dislikes: '0' },\n]\n\nconst initialState = {\n  posts,\n  mainUser,\n  status: ''\n};\n\nexport const profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      return {\n        ...state,\n        posts: [\n          ...state.posts,\n          {\n            id: new Date(),\n            message: action.message,\n            likes: '0',\n            dislikes: '0'\n          }\n        ]\n      };\n    case DELETEE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter(p => p.id !== action.postId)\n      };\n    case SET_USER_PROFILE:\n      return {\n        ...state,\n        profile: action.profile\n      };\n    case SET_STATUS:\n      return {\n        ...state,\n        status: action.status\n      };\n    case SAVE_PHOTO_SUCCESS:\n      return {\n        ...state,\n        profile: {\n          ...state.profile,\n          photos: action.photos\n        }\n      };\n    default:\n      return state;\n  }\n}\n\nexport const addPost = (message) => {\n  return {\n    type: ADD_POST,\n    message\n  }\n}\n\nexport const deletePost = (postId) => {\n  return {\n    type: DELETEE_POST,\n    postId\n  }\n}\n\nexport const setUserProfile = (profile) => {\n  return {\n    type: SET_USER_PROFILE,\n    profile\n  }\n}\n\nexport const setStatus = (status) => {\n  return {\n    type: SET_STATUS,\n    status\n  }\n}\n\nexport const savePhotoSuccess = (photos) => {\n  return {\n    type: SAVE_PHOTO_SUCCESS,\n    photos\n  }\n}\n\nexport const getUserProfile = (userID) => async dispatch => {\n  const response = await profileAPI.getProfile(userID);\n\n  dispatch(setUserProfile(response));\n}\n\nexport const getUserStatus = (userID) => async dispatch => {\n  const response = await profileAPI.getStatus(userID);\n\n  dispatch(setStatus(response));\n}\n\nexport const updateStatus = (status) => async dispatch => {\n  const response = await profileAPI.updateStatus(status);\n\n  if (response.resultCode === 0) {\n    dispatch(setStatus(status));\n  }\n}\n\nexport const savePhoto = (file) => async dispatch => {\n  const response = await profileAPI.savePhoto(file);\n\n  if (response.resultCode === 0) {\n    dispatch(savePhotoSuccess(response.data.photos));\n  }\n}\n\nexport const saveProfile = (profileData) => async (dispatch, getState) => {\n  const response = await profileAPI.saveProfile(profileData);\n\n  if (response.resultCode === 0) {\n    dispatch(getUserProfile(getState().auth.id));\n  } else {\n    const message = response.messages.length > 0 ? response.messages[0] : 'Some error';\n\n    dispatch(stopSubmit('ProfileData', { _error: message }));\n    return Promise.reject(message);\n  }\n}\n\nexport default profileReducer;","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n  withCredentials: true,\n  headers: {\n    'API-KEY': 'c2000f58-5fdf-49e4-81b7-b9b544914fce'\n  }\n});\n\nexport const usersAPI = {\n  auth() {\n    return instance.get(`auth/me`).then(response =>\n      response.data\n    );\n  },\n  getUsers(currentPage, pageSize) {\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response =>\n      response.data\n    );\n  },\n  follow(id) {\n    return instance.post(`follow/${id}`).then(response =>\n      response.data\n    );\n  },\n  unfollow(id) {\n    return instance.delete(`follow/${id}`).then(response =>\n      response.data\n    );\n  }\n}\n\nexport const profileAPI = {\n  getProfile(userID) {\n    return instance.get(`profile/${userID}`).then(response =>\n      response.data\n    );\n  },\n  getStatus(userID) {\n    return instance.get(`profile/status/${userID}`).then(response =>\n      response.data\n    );\n  },\n  updateStatus(status) {\n    return instance.put(`profile/status`, { status }).then(response =>\n      response.data\n    );\n  },\n  savePhoto(file) {\n    const formData = new FormData();\n    formData.append('image', file);\n\n    return instance.put(`profile/photo`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(response =>\n      response.data\n    );\n  },\n  saveProfile(profileData) {\n    return instance.put('profile/', profileData).then(response =>\n      response.data\n    );\n  }\n}\n\nexport const authAPI = {\n  me() {\n    return instance.get(`auth/me`).then(response =>\n      response.data\n    );\n  },\n  login(email, password, rememberMe = false, captcha = null) {\n    return instance.post(`auth/login`, {email, password, rememberMe, captcha}).then(response =>\n      response.data\n    );\n  },\n  logout() {\n    return instance.delete(`auth/login`).then(response =>\n      response.data\n    );\n  },\n}\n\nexport const securityAPI = {\n  getCaptchaUrl() {\n    return instance.delete(`security/get-captcha-url`).then(response =>\n      response.data\n    );\n  }\n}","import { mainUser, users } from './global-state';\n\nconst SEND_MESSAGE = 'SEND-MESSAGE';\n\nconst initialState = {\n  users,\n  mainUser,\n};\n\nexport const dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_MESSAGE:\n      return ({\n        ...state,\n        users: state.users.map(user => {\n          if (user.id === action.userID) {\n            return {\n              ...user, messages:\n                [\n                  ...user.messages,\n                  {\n                    id: new Date(),\n                    message: action.message,\n                    me: true\n                  }\n                ],\n              newMessageText: ''\n            };\n          }\n          return user;\n        })\n      })\n    default:\n      return state;\n  }\n}\n\nexport const sendNewMessage = (message, userID) => {\n  return {\n    type: SEND_MESSAGE,\n    userID,\n    message\n  }\n}\n\nexport default dialogsReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n  return items.map(item => {\n    if (item[objPropName] === itemId) {\n      return { ...item, ...newObjProps};\n    }\n    return item;\n  })\n}","import { usersAPI } from '../api/api';\nimport { updateObjectInArray } from '../utils/object-helpers';\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET-USERS';\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS';\n\nconst initialState = {\n  users: [],\n  pageSize: 5,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: true,\n  followingInProgress: []\n};\n\nconst usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USERS:\n      return ({\n        ...state,\n        users: action.users,\n      })\n    case FOLLOW:\n      return ({\n        ...state,\n        users: updateObjectInArray(state.users, action.userID, 'id', {followed: true})\n      })\n    case UNFOLLOW:\n        return({\n          ...state,\n          users: updateObjectInArray(state.users, action.userID, 'id', {followed: false})\n      })\n    case SET_TOTAL_USERS_COUNT:\n      return ({\n        ...state,\n        totalUsersCount: action.usersCount\n      })\n    case SET_CURRENT_PAGE:\n      return ({\n        ...state,\n        currentPage: action.pageIndex\n      })\n    case TOGGLE_IS_FETCHING:\n      return ({\n        ...state,\n        isFetching: action.isFetching\n      })\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\n      return ({\n        ...state,\n        followingInProgress: action.isFetching ?\n          [...state.followingInProgress, action.userID] :\n          [...state.followingInProgress.filter(id => id !== action.userID)]\n      })\n    default:\n      return state;\n  }\n}\n\nexport const followSuccess = (userID) => {\n  return {\n    type: FOLLOW,\n    userID\n  }\n}\n\nexport const unfollowSuccess = (userID) => {\n  return {\n    type: UNFOLLOW,\n    userID\n  }\n}\n\nexport const setUsers = (users) => {\n  return {\n    type: SET_USERS,\n    users\n  }\n}\n\nexport const setCurrentPage = (pageIndex) => {\n  return {\n    type: SET_CURRENT_PAGE,\n    pageIndex\n  }\n}\n\nexport const setTotalUsersCount = (usersCount) => {\n  return {\n    type: SET_TOTAL_USERS_COUNT,\n    usersCount\n  }\n}\n\nexport const toggleIsFetching = (isFetching) => {\n  return {\n    type: TOGGLE_IS_FETCHING,\n    isFetching\n  }\n}\n\nexport const toggleIsFollowingProgress = (isFetching, userID) => {\n  return {\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\n    isFetching,\n    userID\n  }\n}\n\nexport const getUsers = (currentPage, pageSize) => async dispatch => {\n  dispatch(toggleIsFetching(true));\n  dispatch(setCurrentPage(currentPage));\n\n  const response = await usersAPI.getUsers(currentPage, pageSize);\n  const totalCount = response.totalCount;\n\n  dispatch(setUsers(response.items));\n  dispatch(setTotalUsersCount(totalCount));\n  dispatch(toggleIsFetching(false));\n}\n\nconst followUnfollowFlow = async (userID, dispatch, apiMethod, actionCreator) => {\n  dispatch(toggleIsFollowingProgress(true, userID));\n\n  const response = await apiMethod(userID);\n\n  if (response.resultCode === 0) {\n    dispatch(actionCreator(userID));\n  }\n  dispatch(toggleIsFollowingProgress(false, userID));\n}\n\nexport const follow = (userID) => async dispatch => {\n  const apiMethod = usersAPI.follow.bind(usersAPI);\n\n  followUnfollowFlow(userID, dispatch, apiMethod, followSuccess);\n}\n\nexport const unfollow = (userID) => async dispatch => {\n  const apiMethod = usersAPI.unfollow.bind(usersAPI);\n\n  followUnfollowFlow(userID, dispatch, apiMethod, unfollowSuccess);\n}\n\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"navbar_navbar__3qOCN\",\"nav-list\":\"navbar_nav-list__16YEI\",\"link\":\"navbar_link__oB1pg\",\"link--active\":\"navbar_link--active__3dRe4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"users_loader__1MXQ5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-btn\":\"mainBtn_main-btn__1hYiJ\"};"],"sourceRoot":""}