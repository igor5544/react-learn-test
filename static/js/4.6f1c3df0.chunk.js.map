{"version":3,"sources":["components/common/FormsControls/FormsControls.js","utils/validators/validators.js","hoc/withAuthRedirect.js","components/common/FormsControls/formsControls.module.css","components/MessageForm.js","styles/messageForm.module.css","styles/dialogs.module.css","styles/dialogList.module.css","styles/dialogItem.module.css","styles/chat.module.css","styles/message.module.css","styles/chatItem.module.css","components/DialogItem.js","components/DialogsList.js","components/Message.js","components/ChatItem.js","components/Chat.js","pages/Dialogs.js","pages/DialogsContainer.js"],"names":["FormControl","children","meta","props","hasError","touched","error","className","s","wrapperclass","Textarea","input","label","restProps","htmlFor","id","Input","Checkbox","required","value","undefined","maxLengthCreator","maxLenght","length","mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","module","exports","maxLength","AddMessageForm","method","onSubmit","handleSubmit","textarea","textarea__wrapper","rows","name","component","validate","type","btnText","MessageForm","addText","AddMessageReduxForm","reduxForm","form","values","message","DialogItem","item","activeClassName","active","link","DialogsList","dialogs","list","map","dialog","key","Messagee","me","img","wrapper","src","alt","height","width","ChatItem","userId","mainUser","sendNewMessage","chat","messages","Message","Chat","path","render","Dialogs","dialogsData","users","messageText","newMessageText","mapDispatchToProps","compose","dialogsPage"],"mappings":"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","file":"static/js/4.6f1c3df0.chunk.js","sourcesContent":["import React from 'react';\nimport s from './formsControls.module.css';\n\nexport const FormControl = ({ children, meta, ...props }) => {\n  const hasError = meta.touched && meta.error;\n\n  return (\n    <div className={`${s['form-control']}  ${hasError && s.error} ${props.wrapperclass}`}>\n      {children}\n      {\n        hasError && <p> {meta.error} </p>\n      }\n    </div>\n  )\n}\n\nexport const Textarea = (props) => {\n  const { input, meta, label, ...restProps } = props;\n\n  return <FormControl {...props}>\n    {label && <label htmlFor={restProps.id}>{label}</label>}\n    <textarea {...input} {...restProps} ></textarea>\n  </FormControl>\n}\n\nexport const Input = (props) => {\n  const { input, meta, label, ...restProps } = props;\n\n  return <FormControl {...props}>\n    {label && <label htmlFor={restProps.id}>{label}</label>}\n    <input {...input} {...restProps} ></input>\n  </FormControl>\n}\n\nexport const Checkbox = (props) => {\n  const { input, meta, label, ...restProps } = props;\n\n  return (\n    <FormControl {...props}>\n      <input {...input} {...restProps} ></input>\n      <label htmlFor={restProps.id}>{label}</label>\n    </FormControl>\n  )\n}","export const required = value => {\n  return value ? undefined :  'Field is required';\n}\n\nexport const maxLengthCreator = maxLenght => value => {\n  return value.length <= maxLenght ? undefined :  'Max length is 30 symblos';\n}","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst mapStateToPropsRedirect = (state) => {\n  return {\n    isAuth: state.auth.isAuth\n  }\n}\n\nexport const withAuthRedirect = (Component) => {\n  \n  class RedirectComponent extends React.Component { \n    render() {\n      if (!this.props.isAuth) {\n        return <Redirect to={'/login'} />\n      }\n      \n      return <Component {...this.props} /> \n    }\n  }\n\n  const ConnectAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\n\n  return ConnectAuthRedirectComponent;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"formsControls_error__3NdZw\"};","import React from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { Textarea } from './common/FormsControls/FormsControls';\nimport { required, maxLengthCreator } from '../utils/validators/validators';\nimport s from '../styles/messageForm.module.css';\nimport MainBtn from './MainBtn';\n\nconst maxLength = maxLengthCreator(50);\n\nconst AddMessageForm = (props) => {\n  return (\n    <form method=\"GET\" onSubmit={props.handleSubmit}>\n      <Field className={s.textarea} wrapperclass={s.textarea__wrapper} rows=\"5\" name={'message'} component={Textarea}\n        validate={[required, maxLength]}\n      />\n      <MainBtn type={'submit'}>\n        {props.btnText}\n      </MainBtn>\n    </form>\n  )\n}\n\nconst MessageForm = ({ btnText, addText, id }) => {\n\n  const AddMessageReduxForm = reduxForm({\n    form: `messageForm${id}`\n  })(AddMessageForm)\n\n  const addNewMessage = (values) => {\n    addText(values.message, id);\n  }\n\n  return (\n    <AddMessageReduxForm onSubmit={addNewMessage} btnText={btnText} />\n  )\n}\n\nexport default MessageForm;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"messageForm_textarea__2-KHT\",\"textarea__wrapper\":\"messageForm_textarea__wrapper__tbFGx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"dialogs_wrapper__FJh7c\",\"users-list\":\"dialogs_users-list__COq3e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"dialogList_list__CyHdL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"dialogItem_item__3X76_\",\"link\":\"dialogItem_link__DgtNA\",\"active\":\"dialogItem_active__2nRQq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"chat_dialogs__9wEnI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"message_item__3eUS_\",\"me\":\"message_me__19Ake\",\"wrapper\":\"message_wrapper__Xs-ol\",\"message\":\"message_message__1qEIh\",\"img\":\"message_img__28v43\",\"name\":\"message_name__3-Uy_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"chatItem_chat__3Qqhx\"};","import React from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport s from '../styles/dialogItem.module.css';\n\nconst DialogItem = ({ name, id }) => {\n  return (\n    <li className={`${s.item} ${s['item--active']}`}>\n      <NavLink activeClassName={s.active} className={s.link} to={`/dialogs/${id}`}>{name}</NavLink>\n    </li>\n  );\n}\n\nexport default DialogItem;","import React from 'react';\nimport s from '../styles/dialogList.module.css';\nimport DialogItem from './DialogItem';\n\nconst DialogsList = ({ dialogs, className }) => {\n\n  return (\n    <ul className={`${s.list} ${className} main-list`}>\n      {dialogs.map(dialog =>\n        <DialogItem name={dialog.name} id={dialog.id} key={dialog.id} />\n      )}\n    </ul>\n  )\n}\n\nexport default DialogsList;","import React from 'react';\nimport s from '../styles/message.module.css';\n\nconst Messagee = ({ name, message, me, img }) => {\n  return (\n    <li className={`${s.item} ${me ? s.me : ''}`}>\n      <div className={s.wrapper}>\n        <img className={s.img} src={img} alt=\"another user\" height=\"64\" width=\"64\" />\n        <h3 className={s.name}>\n          {name}\n        </h3>\n      </div>\n      <p className={s.message}>\n        {message}\n      </p>\n    </li>\n  )\n}\n\nexport default Messagee;","import React from 'react';\nimport Message from './Message';\nimport s from '../styles/chatItem.module.css';\nimport MessageForm from './MessageForm';\n\nconst ChatItem = ({ dialog, userId, mainUser, sendNewMessage}) => {\n\n  return (\n    <li key={dialog.id}>\n      <ul className={`main-list ${s.chat}`}>\n        {dialog.messages.map(message =>\n          <Message name={message.me ? 'Me' : dialog.name} message={message.message} me={message.me} img={message.me ? mainUser.img : dialog.img} key={message.id}/>\n        )}\n      </ul>\n      <MessageForm btnText={'Send'} addText={sendNewMessage} id={userId}/>\n    </li>\n  )\n}\n\nexport default ChatItem;","import React from 'react';\nimport { Route } from \"react-router-dom\";\nimport s from '../styles/chat.module.css';\nimport ChatItem from './ChatItem';\n\nconst Chat = ({ sendNewMessage, dialogs, mainUser }) => {\n\n  return (\n    <ul className={`${s.dialogs} main-list`}>\n      {dialogs.map(dialog =>\n        <Route path={`/dialogs/${dialog.id}`} key={dialog.id}\n          render={() =>\n            <ChatItem dialog={dialog} mainUser={mainUser} userId={dialog.id} sendNewMessage={sendNewMessage}\n            />} />\n      )}\n    </ul>\n  )\n}\n\nexport default Chat;","import React from 'react';\nimport s from '../styles/dialogs.module.css';\nimport DialogsList from '../components/DialogsList';\nimport Chat from '../components/Chat';\n\nconst Dialogs = ({ dialogsData, sendNewMessage}) => {\n  return (\n    <section>\n      <h2 className=\"main-title\">Dialogs</h2>\n      <div className={s.wrapper}>\n        <DialogsList dialogs={dialogsData.users} className={s['users-list']} />\n        <Chat sendNewMessage={sendNewMessage} dialogs={dialogsData.users} mainUser={dialogsData.mainUser} messageText={dialogsData.newMessageText} />\n      </div>\n\n    </section>\n  )\n}\n\nexport default Dialogs;\n","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withAuthRedirect } from '../hoc/withAuthRedirect';\nimport { sendNewMessage } from '../redux/dialogs-reducer';\nimport Dialogs from './Dialogs';\n\nconst mapStateToProps = (state) => {\n  return {\n    dialogsData: state.dialogsPage\n  }\n}\n\nconst mapDispatchToProps = {\n  sendNewMessage,\n}\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withAuthRedirect\n)(Dialogs);\n"],"sourceRoot":""}